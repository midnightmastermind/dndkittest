{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/dndkittest/src/TaskBox.js\",\n  _s = $RefreshSig$();\n// TaskBox.js\nimport { useDraggable } from \"@dnd-kit/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TaskBox({\n  panel,\n  tasks,\n  disabled\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 8,\n      overflow: \"hidden\"\n    },\n    children: panel.tasks.map(taskId => {\n      const task = tasks.find(t => t.id === taskId);\n      if (!task) return null;\n\n      // ⭐ TaskBox does NOT provide instanceId\n      // A new instanceId will be created when dropped into a time-slot\n      const draggableId = `taskbox-${taskId}-${Math.random()}`;\n      return /*#__PURE__*/_jsxDEV(TaskItem, {\n        draggableId: draggableId,\n        taskId: taskId,\n        label: task.label,\n        fromPanelId: panel.id,\n        fromSlotId: null,\n        disabled: disabled,\n        isFromTimeSlot: false\n      }, draggableId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, this);\n}\n\n// ⭐ Exported so Schedule can reuse it\n_c = TaskBox;\nexport function TaskItem({\n  draggableId,\n  taskId,\n  label,\n  fromPanelId,\n  fromSlotId,\n  disabled,\n  isFromTimeSlot\n}) {\n  _s();\n  const {\n    setNodeRef,\n    attributes,\n    listeners,\n    transform\n  } = useDraggable({\n    id: String(draggableId),\n    disabled,\n    data: {\n      role: \"task\",\n      taskId: String(taskId),\n      fromPanelId: fromPanelId !== null && fromPanelId !== void 0 ? fromPanelId : null,\n      fromSlotId: fromSlotId !== null && fromSlotId !== void 0 ? fromSlotId : null,\n      // ⭐ IMPORTANT:\n      // distinguishes TaskBox drag vs TimeSlot drag\n      isFromTimeSlot: !!isFromTimeSlot,\n      instanceId: isFromTimeSlot ? draggableId : null\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: setNodeRef,\n    ...attributes,\n    ...listeners,\n    style: {\n      padding: 8,\n      marginBottom: 6,\n      background: \"#334\",\n      color: \"white\",\n      borderRadius: 6,\n      cursor: disabled ? \"not-allowed\" : \"grab\",\n      userSelect: \"none\",\n      transform: transform ? `translate3d(${transform.x}px, ${transform.y}px, 0)` : undefined\n    },\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(TaskItem, \"V7A2aMaxHQ5ce2KOkSVy7iF7IG4=\", false, function () {\n  return [useDraggable];\n});\n_c2 = TaskItem;\nvar _c, _c2;\n$RefreshReg$(_c, \"TaskBox\");\n$RefreshReg$(_c2, \"TaskItem\");","map":{"version":3,"names":["useDraggable","jsxDEV","_jsxDEV","TaskBox","panel","tasks","disabled","style","padding","overflow","children","map","taskId","task","find","t","id","draggableId","Math","random","TaskItem","label","fromPanelId","fromSlotId","isFromTimeSlot","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s","setNodeRef","attributes","listeners","transform","String","data","role","instanceId","ref","marginBottom","background","color","borderRadius","cursor","userSelect","x","y","undefined","_c2","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/dndkittest/src/TaskBox.js"],"sourcesContent":["// TaskBox.js\nimport { useDraggable } from \"@dnd-kit/core\";\n\nexport default function TaskBox({ panel, tasks, disabled }) {\n  return (\n    <div style={{ padding: 8, overflow: \"hidden\" }}>\n      {panel.tasks.map((taskId) => {\n        const task = tasks.find((t) => t.id === taskId);\n        if (!task) return null;\n\n        // ⭐ TaskBox does NOT provide instanceId\n        // A new instanceId will be created when dropped into a time-slot\n        const draggableId = `taskbox-${taskId}-${Math.random()}`;\n\n        return (\n          <TaskItem\n            key={draggableId}\n            draggableId={draggableId}\n            taskId={taskId}\n            label={task.label}\n            fromPanelId={panel.id}\n            fromSlotId={null}\n            disabled={disabled}\n            isFromTimeSlot={false}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\n// ⭐ Exported so Schedule can reuse it\nexport function TaskItem({\n  draggableId,\n  taskId,\n  label,\n  fromPanelId,\n  fromSlotId,\n  disabled,\n  isFromTimeSlot,\n}) {\n  const { setNodeRef, attributes, listeners, transform } = useDraggable({\n    id: String(draggableId),  \n    disabled,\n    data: {\n      role: \"task\",\n      taskId: String(taskId),\n      fromPanelId: fromPanelId ?? null,\n      fromSlotId: fromSlotId ?? null,\n\n      // ⭐ IMPORTANT:\n      // distinguishes TaskBox drag vs TimeSlot drag\n      isFromTimeSlot: !!isFromTimeSlot,\n      instanceId: isFromTimeSlot ? draggableId : null,\n    },\n  });\n\n  return (\n    <div\n      ref={setNodeRef}\n      {...attributes}\n      {...listeners}\n      style={{\n        padding: 8,\n        marginBottom: 6,\n        background: \"#334\",\n        color: \"white\",\n        borderRadius: 6,\n        cursor: disabled ? \"not-allowed\" : \"grab\",\n        userSelect: \"none\",\n        transform: transform\n          ? `translate3d(${transform.x}px, ${transform.y}px, 0)`\n          : undefined,\n      }}\n    >\n      {label}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}