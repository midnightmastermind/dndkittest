{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/dndkittest/src/Grid.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { DndContext, PointerSensor, useSensor, useSensors, DragOverlay, pointerWithin, useDndContext, TouchSensor } from \"@dnd-kit/core\";\nimport Panel from \"./Panel\";\nimport PanelClone from \"./PanelClone\";\nimport { useDroppable } from \"@dnd-kit/core\";\n\n/* ------------------------------------------------------------\n   DROPPABLE GRID CELL (for panel placement only)\n------------------------------------------------------------ */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CellDroppable({\n  r,\n  c,\n  dark\n}) {\n  _s();\n  var _active$data, _active$data$current;\n  const {\n    active\n  } = useDndContext();\n  const isPanelDrag = (active === null || active === void 0 ? void 0 : (_active$data = active.data) === null || _active$data === void 0 ? void 0 : (_active$data$current = _active$data.current) === null || _active$data$current === void 0 ? void 0 : _active$data$current.role) === \"panel\";\n  const {\n    setNodeRef,\n    isOver\n  } = useDroppable({\n    id: `cell-${r}-${c}`,\n    data: {\n      role: \"grid-cell\",\n      row: r,\n      col: c\n    }\n  });\n  const highlight = isPanelDrag && isOver;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: setNodeRef,\n    style: {\n      background: highlight ? \"rgba(50,150,255,0.45)\" : dark ? \"#22272B\" : \"#2C333A\",\n      border: \"1px solid #3F444A\",\n      transition: \"background 80ms\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n/* ------------------------------------------------------------\n   GRID COMPONENT\n------------------------------------------------------------ */\n_s(CellDroppable, \"xfLalxbUPsJqilrMIvibg7pdQe4=\", false, function () {\n  return [useDndContext, useDroppable];\n});\n_c = CellDroppable;\nexport default function Grid({\n  rows,\n  cols,\n  panels,\n  setPanels,\n  components,\n  handleDragEndProp,\n  handleDragStartProp,\n  handleDragOverProp,\n  toggleToolbar,\n  renderDragOverlay\n}) {\n  _s2();\n  const gridRef = useRef(null);\n  const [activeId, setActiveId] = useState(null);\n  const [activeData, setActiveData] = useState(null);\n  const [panelDragging, setPanelDragging] = useState(false);\n\n  // track dimensions\n  const [colSizes, setColSizes] = useState(() => Array(cols).fill(1));\n  const [rowSizes, setRowSizes] = useState(() => Array(rows).fill(1));\n  useEffect(() => setColSizes(Array(cols).fill(1)), [cols]);\n  useEffect(() => setRowSizes(Array(rows).fill(1)), [rows]);\n  useEffect(() => {\n    if (gridRef.current) {\n      gridRef.current.dataset.sizes = JSON.stringify({\n        colSizes,\n        rowSizes\n      });\n    }\n  }, [colSizes, rowSizes]);\n  useEffect(() => {\n    const disableScroll = e => e.preventDefault();\n    document.addEventListener(\"touchmove\", disableScroll, {\n      passive: false\n    });\n    return () => document.removeEventListener(\"touchmove\", disableScroll);\n  }, []);\n  const colTemplate = colSizes.map(s => `${s}fr`).join(\" \");\n  const rowTemplate = rowSizes.map(s => `${s}fr`).join(\" \");\n  const sensors = useSensors(useSensor(PointerSensor, {\n    activationConstraint: {\n      distance: 4\n    }\n  }), useSensor(TouchSensor, {\n    activationConstraint: {\n      delay: 50,\n      tolerance: 5\n    }\n  }));\n  const getPanel = id => panels.find(p => p.id === id);\n\n  /* ------------------------------------------------------------\n     Pointer â†’ cell mapping\n  ------------------------------------------------------------ */\n  const getCellFromPointer = (clientX, clientY) => {\n    const rect = gridRef.current.getBoundingClientRect();\n    const relX = (clientX - rect.left) / rect.width;\n    const relY = (clientY - rect.top) / rect.height;\n    let col = 0;\n    let row = 0;\n    const totalCols = colSizes.reduce((a, b) => a + b, 0);\n    let acc = 0;\n    for (let i = 0; i < colSizes.length; i++) {\n      acc += colSizes[i];\n      if (relX < acc / totalCols) {\n        col = i;\n        break;\n      }\n    }\n    const totalRows = rowSizes.reduce((a, b) => a + b, 0);\n    acc = 0;\n    for (let i = 0; i < rowSizes.length; i++) {\n      acc += rowSizes[i];\n      if (relY < acc / totalRows) {\n        row = i;\n        break;\n      }\n    }\n    return {\n      row,\n      col\n    };\n  };\n\n  /* ------------------------------------------------------------\n     Drag Start\n  ------------------------------------------------------------ */\n  const handleDragStart = event => {\n    setActiveId(event.active.id);\n    setActiveData(event.active.data.current);\n    const data = event.active.data.current;\n    if ((data === null || data === void 0 ? void 0 : data.role) === \"panel\") {\n      setPanelDragging(true);\n    }\n    if ((data === null || data === void 0 ? void 0 : data.type) === \"taskbox-item\" || (data === null || data === void 0 ? void 0 : data.type) === \"schedule-item\") {\n      handleDragStartProp(event);\n      return;\n    }\n  };\n\n  /* ------------------------------------------------------------\n     Drag Move\n  ------------------------------------------------------------ */\n  const handleDragMove = event => {\n    const data = event.active.data.current;\n    if ((data === null || data === void 0 ? void 0 : data.type) === \"taskbox-item\" || (data === null || data === void 0 ? void 0 : data.type) === \"schedule-item\") {\n      handleDragOverProp(event);\n      return;\n    }\n  };\n\n  /* ------------------------------------------------------------\n     Drag End\n  ------------------------------------------------------------ */\n  const handleDragEnd = event => {\n    const {\n      active,\n      over\n    } = event;\n    setActiveId(null);\n    setPanelDragging(false);\n    if (!active) return;\n    const data = active.data.current;\n    if ((data === null || data === void 0 ? void 0 : data.type) === \"taskbox-item\" || (data === null || data === void 0 ? void 0 : data.type) === \"schedule-item\") {\n      handleDragEndProp(event);\n      return;\n    }\n    if ((data === null || data === void 0 ? void 0 : data.role) !== \"panel\") return;\n    if (over && (data === null || data === void 0 ? void 0 : data.role) === \"panel\") {\n      const pointer = {\n        x: event.activatorEvent.clientX + event.delta.x,\n        y: event.activatorEvent.clientY + event.delta.y\n      };\n      const {\n        col,\n        row\n      } = getCellFromPointer(pointer.x, pointer.y);\n      setPanels(list => list.map(p => p.id === active.id ? {\n        ...p,\n        col,\n        row,\n        width: 1,\n        height: 1\n      } : p));\n    }\n  };\n\n  /* ------------------------------------------------------------\n     Resize Helpers (UPDATED ONLY HERE)\n  ------------------------------------------------------------ */\n\n  const getGridWidth = () => {\n    var _gridRef$current;\n    return ((_gridRef$current = gridRef.current) === null || _gridRef$current === void 0 ? void 0 : _gridRef$current.clientWidth) || 1;\n  };\n  const getGridHeight = () => {\n    var _gridRef$current2;\n    return ((_gridRef$current2 = gridRef.current) === null || _gridRef$current2 === void 0 ? void 0 : _gridRef$current2.clientHeight) || 1;\n  };\n  const resizeColumn = (i, pixelDelta) => {\n    const gridWidth = getGridWidth();\n    setColSizes(sizes => {\n      const next = i + 1;\n      if (next >= sizes.length) return sizes;\n      const total = sizes.reduce((a, b) => a + b, 0);\n      const frDelta = pixelDelta / gridWidth * total;\n      const copy = [...sizes];\n      copy[i] += frDelta;\n      copy[next] -= frDelta;\n      copy[i] = Math.max(0.3, copy[i]);\n      copy[next] = Math.max(0.3, copy[next]);\n      return copy;\n    });\n  };\n  const resizeRow = (i, pixelDelta) => {\n    const gridHeight = getGridHeight();\n    setRowSizes(sizes => {\n      const next = i + 1;\n      if (next >= sizes.length) return sizes;\n      const total = sizes.reduce((a, b) => a + b, 0);\n      const frDelta = pixelDelta / gridHeight * total;\n      const copy = [...sizes];\n      copy[i] += frDelta;\n      copy[next] -= frDelta;\n      copy[i] = Math.max(0.3, copy[i]);\n      copy[next] = Math.max(0.3, copy[next]);\n      return copy;\n    });\n  };\n  const getClientX = e => e.touches ? e.touches[0].clientX : e.clientX;\n  const getClientY = e => e.touches ? e.touches[0].clientY : e.clientY;\n  const getColPosition = i => {\n    const total = colSizes.reduce((a, b) => a + b, 0);\n    const before = colSizes.slice(0, i + 1).reduce((a, b) => a + b, 0);\n    return before / total * 100;\n  };\n  const getRowPosition = i => {\n    const total = rowSizes.reduce((a, b) => a + b, 0);\n    const before = rowSizes.slice(0, i + 1).reduce((a, b) => a + b, 0);\n    return before / total * 100;\n  };\n  const startColResize = (e, i) => {\n    e.preventDefault();\n    let startX = getClientX(e);\n    const move = ev => {\n      ev.preventDefault(); // <-- mobile fix\n      const currentX = getClientX(ev);\n      const delta = currentX - startX;\n      startX = currentX;\n      resizeColumn(i, delta);\n    };\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n    };\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move);\n    window.addEventListener(\"touchend\", stop);\n  };\n  const startRowResize = (e, i) => {\n    e.preventDefault();\n    let startY = getClientY(e);\n    const move = ev => {\n      ev.preventDefault(); // <-- mobile fix\n      const currentY = getClientY(ev);\n      const delta = currentY - startY;\n      startY = currentY;\n      resizeRow(i, delta);\n    };\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n    };\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move);\n    window.addEventListener(\"touchend\", stop);\n  };\n\n  /* ------------------------------------------------------------\n     RENDER\n  ------------------------------------------------------------ */\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    sensors: sensors,\n    collisionDetection: pointerWithin,\n    onDragStart: handleDragStart,\n    onDragMove: handleDragMove,\n    onDragEnd: handleDragEnd,\n    onDragOver: handleDragOverProp,\n    autoScroll: {\n      enabled: true,\n      acceleration: 0.08,\n      threshold: {\n        x: 0.15,\n        y: 0.15\n      }\n    },\n    children: [\">\", /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        inset: 0,\n        background: \"#1D2125\",\n        overflow: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: toggleToolbar,\n        style: {\n          position: \"absolute\",\n          top: 10,\n          right: 10,\n          width: 42,\n          height: 42,\n          background: \"#2C313A\",\n          border: \"1px solid #444\",\n          borderRadius: 8,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"white\",\n          cursor: \"pointer\",\n          zIndex: 2\n        },\n        children: \"\\uD83D\\uDD27\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: gridRef,\n        style: {\n          position: \"absolute\",\n          inset: 0,\n          display: \"grid\",\n          gridTemplateColumns: colTemplate,\n          gridTemplateRows: rowTemplate,\n          width: \"100%\",\n          height: \"93vh\",\n          overflow: \"hidden\",\n          touchAction: \"none\",\n          overscrollBehaviorY: \"none\"\n        },\n        children: [[...Array(rows)].map((_, r) => [...Array(cols)].map((_, c) => {\n          const dark = (r + c) % 2 === 0;\n          return /*#__PURE__*/_jsxDEV(CellDroppable, {\n            r: r,\n            c: c,\n            dark: dark\n          }, `${r}-${c}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 22\n          }, this);\n        })), [...Array(cols - 1)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          onMouseDown: e => startColResize(e, i),\n          onTouchStart: e => startColResize(e, i),\n          style: {\n            position: \"absolute\",\n            top: 0,\n            bottom: 0,\n            left: `${getColPosition(i)}%`,\n            width: 6,\n            marginLeft: -3,\n            cursor: \"col-resize\",\n            zIndex: 50,\n            background: \"transparent\"\n          }\n        }, `col-resize-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this)), [...Array(rows - 1)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          onMouseDown: e => startRowResize(e, i),\n          onTouchStart: e => startRowResize(e, i),\n          style: {\n            position: \"absolute\",\n            left: 0,\n            right: 0,\n            top: `${getRowPosition(i)}%`,\n            height: 6,\n            marginTop: -3,\n            cursor: \"row-resize\",\n            zIndex: 50,\n            background: \"transparent\"\n          }\n        }, `row-resize-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this)), panels.map(p => /*#__PURE__*/_jsxDEV(Panel, {\n          panel: p,\n          setPanels: setPanels,\n          gridRef: gridRef,\n          cols: cols,\n          rows: rows,\n          activeId: activeId,\n          components: components,\n          gridActive: panelDragging\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DragOverlay, {\n      zIndex: 100000,\n      children: [activeId && getPanel(activeId) ? /*#__PURE__*/_jsxDEV(PanelClone, {\n        panel: getPanel(activeId)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this) : null, !getPanel(activeId) && activeData ? renderDragOverlay({\n        active: {\n          id: activeId,\n          data: {\n            current: activeData\n          }\n        }\n      }) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this);\n}\n_s2(Grid, \"/hUOQZGdklclQjl44lk0rEvmOig=\", false, function () {\n  return [useSensors, useSensor, useSensor];\n});\n_c2 = Grid;\nvar _c, _c2;\n$RefreshReg$(_c, \"CellDroppable\");\n$RefreshReg$(_c2, \"Grid\");","map":{"version":3,"names":["React","useRef","useState","useEffect","DndContext","PointerSensor","useSensor","useSensors","DragOverlay","pointerWithin","useDndContext","TouchSensor","Panel","PanelClone","useDroppable","jsxDEV","_jsxDEV","CellDroppable","r","c","dark","_s","_active$data","_active$data$current","active","isPanelDrag","data","current","role","setNodeRef","isOver","id","row","col","highlight","ref","style","background","border","transition","fileName","_jsxFileName","lineNumber","columnNumber","_c","Grid","rows","cols","panels","setPanels","components","handleDragEndProp","handleDragStartProp","handleDragOverProp","toggleToolbar","renderDragOverlay","_s2","gridRef","activeId","setActiveId","activeData","setActiveData","panelDragging","setPanelDragging","colSizes","setColSizes","Array","fill","rowSizes","setRowSizes","dataset","sizes","JSON","stringify","disableScroll","e","preventDefault","document","addEventListener","passive","removeEventListener","colTemplate","map","s","join","rowTemplate","sensors","activationConstraint","distance","delay","tolerance","getPanel","find","p","getCellFromPointer","clientX","clientY","rect","getBoundingClientRect","relX","left","width","relY","top","height","totalCols","reduce","a","b","acc","i","length","totalRows","handleDragStart","event","type","handleDragMove","handleDragEnd","over","pointer","x","activatorEvent","delta","y","list","getGridWidth","_gridRef$current","clientWidth","getGridHeight","_gridRef$current2","clientHeight","resizeColumn","pixelDelta","gridWidth","next","total","frDelta","copy","Math","max","resizeRow","gridHeight","getClientX","touches","getClientY","getColPosition","before","slice","getRowPosition","startColResize","startX","move","ev","currentX","stop","window","startRowResize","startY","currentY","collisionDetection","onDragStart","onDragMove","onDragEnd","onDragOver","autoScroll","enabled","acceleration","threshold","children","position","inset","overflow","onClick","right","borderRadius","display","alignItems","justifyContent","color","cursor","zIndex","gridTemplateColumns","gridTemplateRows","touchAction","overscrollBehaviorY","_","onMouseDown","onTouchStart","bottom","marginLeft","marginTop","panel","gridActive","_c2","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/dndkittest/src/Grid.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport {\n  DndContext,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragOverlay,\n  pointerWithin,\n  useDndContext,\n  TouchSensor\n} from \"@dnd-kit/core\";\n\nimport Panel from \"./Panel\";\nimport PanelClone from \"./PanelClone\";\nimport { useDroppable } from \"@dnd-kit/core\";\n\n/* ------------------------------------------------------------\n   DROPPABLE GRID CELL (for panel placement only)\n------------------------------------------------------------ */\nfunction CellDroppable({ r, c, dark }) {\n  const { active } = useDndContext();\n  const isPanelDrag = active?.data?.current?.role === \"panel\";\n\n  const { setNodeRef, isOver } = useDroppable({\n    id: `cell-${r}-${c}`,\n    data: { role: \"grid-cell\", row: r, col: c },\n  });\n\n  const highlight = isPanelDrag && isOver;\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={{\n        background: highlight\n          ? \"rgba(50,150,255,0.45)\"\n          : dark\n            ? \"#22272B\"\n            : \"#2C333A\",\n        border: \"1px solid #3F444A\",\n        transition: \"background 80ms\",\n      }}\n    />\n  );\n}\n\n/* ------------------------------------------------------------\n   GRID COMPONENT\n------------------------------------------------------------ */\nexport default function Grid({\n  rows,\n  cols,\n  panels,\n  setPanels,\n  components,\n  handleDragEndProp,\n  handleDragStartProp,\n  handleDragOverProp,\n  toggleToolbar,\n  renderDragOverlay,\n}) {\n  const gridRef = useRef(null);\n  const [activeId, setActiveId] = useState(null);\n  const [activeData, setActiveData] = useState(null);\n  const [panelDragging, setPanelDragging] = useState(false);\n\n  // track dimensions\n  const [colSizes, setColSizes] = useState(() => Array(cols).fill(1));\n  const [rowSizes, setRowSizes] = useState(() => Array(rows).fill(1));\n\n  useEffect(() => setColSizes(Array(cols).fill(1)), [cols]);\n  useEffect(() => setRowSizes(Array(rows).fill(1)), [rows]);\n\n  useEffect(() => {\n    if (gridRef.current) {\n      gridRef.current.dataset.sizes = JSON.stringify({\n        colSizes,\n        rowSizes,\n      });\n    }\n  }, [colSizes, rowSizes]);\n\nuseEffect(() => {\n  const disableScroll = (e) => e.preventDefault();\n\n  document.addEventListener(\"touchmove\", disableScroll, { passive: false });\n  return () =>\n    document.removeEventListener(\"touchmove\", disableScroll);\n}, []);\n\n  const colTemplate = colSizes.map((s) => `${s}fr`).join(\" \");\n  const rowTemplate = rowSizes.map((s) => `${s}fr`).join(\" \");\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: { distance: 4 },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: {\n        delay: 50,\ntolerance: 5,\n      },\n    })\n  );\n\n  const getPanel = (id) => panels.find((p) => p.id === id);\n\n  /* ------------------------------------------------------------\n     Pointer â†’ cell mapping\n  ------------------------------------------------------------ */\n  const getCellFromPointer = (clientX, clientY) => {\n    const rect = gridRef.current.getBoundingClientRect();\n    const relX = (clientX - rect.left) / rect.width;\n    const relY = (clientY - rect.top) / rect.height;\n\n    let col = 0;\n    let row = 0;\n\n    const totalCols = colSizes.reduce((a, b) => a + b, 0);\n    let acc = 0;\n    for (let i = 0; i < colSizes.length; i++) {\n      acc += colSizes[i];\n      if (relX < acc / totalCols) {\n        col = i;\n        break;\n      }\n    }\n\n    const totalRows = rowSizes.reduce((a, b) => a + b, 0);\n    acc = 0;\n    for (let i = 0; i < rowSizes.length; i++) {\n      acc += rowSizes[i];\n      if (relY < acc / totalRows) {\n        row = i;\n        break;\n      }\n    }\n\n    return { row, col };\n  };\n\n  /* ------------------------------------------------------------\n     Drag Start\n  ------------------------------------------------------------ */\n  const handleDragStart = (event) => {\n    setActiveId(event.active.id);\n    setActiveData(event.active.data.current);\n\n    const data = event.active.data.current;\n\n    if (data?.role === \"panel\") {\n      setPanelDragging(true);\n    }\n    if (data?.type === \"taskbox-item\" || data?.type === \"schedule-item\") {\n      handleDragStartProp(event);\n      return;\n    }\n  };\n\n  /* ------------------------------------------------------------\n     Drag Move\n  ------------------------------------------------------------ */\n  const handleDragMove = (event) => {\n    const data = event.active.data.current;\n    if (data?.type === \"taskbox-item\" || data?.type === \"schedule-item\") {\n      handleDragOverProp(event);\n      return;\n    }\n  };\n\n  /* ------------------------------------------------------------\n     Drag End\n  ------------------------------------------------------------ */\n  const handleDragEnd = (event) => {\n    const { active, over } = event;\n\n    setActiveId(null);\n    setPanelDragging(false);\n\n    if (!active) return;\n\n    const data = active.data.current;\n\n    if (data?.type === \"taskbox-item\" || data?.type === \"schedule-item\") {\n      handleDragEndProp(event);\n      return;\n    }\n\n    if (data?.role !== \"panel\") return;\n\n    if (over && data?.role === \"panel\") {\n      const pointer = {\n        x: event.activatorEvent.clientX + event.delta.x,\n        y: event.activatorEvent.clientY + event.delta.y,\n      };\n\n      const { col, row } = getCellFromPointer(pointer.x, pointer.y);\n\n      setPanels((list) =>\n        list.map((p) =>\n          p.id === active.id\n            ? { ...p, col, row, width: 1, height: 1 }\n            : p\n        )\n      );\n    }\n  };\n\n  /* ------------------------------------------------------------\n     Resize Helpers (UPDATED ONLY HERE)\n  ------------------------------------------------------------ */\n\n  const getGridWidth = () =>\n    gridRef.current?.clientWidth || 1;\n\n  const getGridHeight = () =>\n    gridRef.current?.clientHeight || 1;\n\n  const resizeColumn = (i, pixelDelta) => {\n    const gridWidth = getGridWidth();\n    setColSizes((sizes) => {\n      const next = i + 1;\n      if (next >= sizes.length) return sizes;\n\n      const total = sizes.reduce((a, b) => a + b, 0);\n      const frDelta = (pixelDelta / gridWidth) * total;\n\n      const copy = [...sizes];\n      copy[i] += frDelta;\n      copy[next] -= frDelta;\n\n      copy[i] = Math.max(0.3, copy[i]);\n      copy[next] = Math.max(0.3, copy[next]);\n\n      return copy;\n    });\n  };\n\n  const resizeRow = (i, pixelDelta) => {\n    const gridHeight = getGridHeight();\n    setRowSizes((sizes) => {\n      const next = i + 1;\n      if (next >= sizes.length) return sizes;\n\n      const total = sizes.reduce((a, b) => a + b, 0);\n      const frDelta = (pixelDelta / gridHeight) * total;\n\n      const copy = [...sizes];\n      copy[i] += frDelta;\n      copy[next] -= frDelta;\n\n      copy[i] = Math.max(0.3, copy[i]);\n      copy[next] = Math.max(0.3, copy[next]);\n\n      return copy;\n    });\n  };\n\n  const getClientX = (e) =>\n    e.touches ? e.touches[0].clientX : e.clientX;\n  const getClientY = (e) =>\n    e.touches ? e.touches[0].clientY : e.clientY;\n\n  const getColPosition = (i) => {\n    const total = colSizes.reduce((a, b) => a + b, 0);\n    const before = colSizes.slice(0, i + 1).reduce((a, b) => a + b, 0);\n    return (before / total) * 100;\n  };\n\n  const getRowPosition = (i) => {\n    const total = rowSizes.reduce((a, b) => a + b, 0);\n    const before = rowSizes.slice(0, i + 1).reduce((a, b) => a + b, 0);\n    return (before / total) * 100;\n  };\n\n  const startColResize = (e, i) => {\n    e.preventDefault();\n    let startX = getClientX(e);\n\n    const move = (ev) => {\n      ev.preventDefault();                     // <-- mobile fix\n      const currentX = getClientX(ev);\n      const delta = currentX - startX;\n      startX = currentX;\n      resizeColumn(i, delta);\n    };\n\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n    };\n\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move);\n    window.addEventListener(\"touchend\", stop);\n  };\n\n  const startRowResize = (e, i) => {\n    e.preventDefault();\n    let startY = getClientY(e);\n\n    const move = (ev) => {\n      ev.preventDefault();                     // <-- mobile fix\n      const currentY = getClientY(ev);\n      const delta = currentY - startY;\n      startY = currentY;\n      resizeRow(i, delta);\n    };\n\n\n    const stop = () => {\n      window.removeEventListener(\"mousemove\", move);\n      window.removeEventListener(\"mouseup\", stop);\n      window.removeEventListener(\"touchmove\", move);\n      window.removeEventListener(\"touchend\", stop);\n    };\n\n    window.addEventListener(\"mousemove\", move);\n    window.addEventListener(\"mouseup\", stop);\n    window.addEventListener(\"touchmove\", move);\n    window.addEventListener(\"touchend\", stop);\n  };\n\n  /* ------------------------------------------------------------\n     RENDER\n  ------------------------------------------------------------ */\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={pointerWithin}\n      onDragStart={handleDragStart}\n      onDragMove={handleDragMove}\n      onDragEnd={handleDragEnd}\n      onDragOver={handleDragOverProp}\n  autoScroll={{\n    enabled: true,\n    acceleration: 0.08,\n    threshold: { x: 0.15, y: 0.15 }\n  }}\n>\n    >\n      <div style={{ position: \"absolute\", inset: 0, background: \"#1D2125\", overflow: \"hidden\" }}>\n        <div\n          onClick={toggleToolbar}\n          style={{\n            position: \"absolute\",\n            top: 10,\n            right: 10,\n            width: 42,\n            height: 42,\n            background: \"#2C313A\",\n            border: \"1px solid #444\",\n            borderRadius: 8,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            color: \"white\",\n            cursor: \"pointer\",\n            zIndex: 2,\n          }}\n        >\n          ðŸ”§\n        </div>\n\n        <div\n          ref={gridRef}\n          style={{\n            position: \"absolute\",\n            inset: 0,\n            display: \"grid\",\n            gridTemplateColumns: colTemplate,\n            gridTemplateRows: rowTemplate,\n            width: \"100%\",\n            height: \"93vh\",\n            overflow: \"hidden\",\n            touchAction: \"none\",\n            overscrollBehaviorY: \"none\",\n          }}\n        >\n          {[...Array(rows)].map((_, r) =>\n            [...Array(cols)].map((_, c) => {\n              const dark = (r + c) % 2 === 0;\n              return <CellDroppable key={`${r}-${c}`} r={r} c={c} dark={dark} />;\n            })\n          )}\n\n          {/* Vertical column resizers */}\n          {[...Array(cols - 1)].map((_, i) => (\n            <div\n              key={`col-resize-${i}`}\n              onMouseDown={(e) => startColResize(e, i)}\n              onTouchStart={(e) => startColResize(e, i)}\n              style={{\n                position: \"absolute\",\n                top: 0,\n                bottom: 0,\n                left: `${getColPosition(i)}%`,\n                width: 6,\n                marginLeft: -3,\n                cursor: \"col-resize\",\n                zIndex: 50,\n                background: \"transparent\",\n              }}\n            />\n          ))}\n\n          {/* Horizontal row resizers */}\n          {[...Array(rows - 1)].map((_, i) => (\n            <div\n              key={`row-resize-${i}`}\n              onMouseDown={(e) => startRowResize(e, i)}\n              onTouchStart={(e) => startRowResize(e, i)}\n              style={{\n                position: \"absolute\",\n                left: 0,\n                right: 0,\n                top: `${getRowPosition(i)}%`,\n                height: 6,\n                marginTop: -3,\n                cursor: \"row-resize\",\n                zIndex: 50,\n                background: \"transparent\",\n              }}\n            />\n          ))}\n\n          {panels.map((p) => (\n            <Panel\n              key={p.id}\n              panel={p}\n              setPanels={setPanels}\n              gridRef={gridRef}\n              cols={cols}\n              rows={rows}\n              activeId={activeId}\n              components={components}\n              gridActive={panelDragging}\n            />\n          ))}\n        </div>\n      </div>\n\n      <DragOverlay zIndex={100000}>\n        {activeId && getPanel(activeId) ? (\n          <PanelClone panel={getPanel(activeId)} />\n        ) : null}\n\n        {!getPanel(activeId) && activeData ? (\n          renderDragOverlay({\n            active: {\n              id: activeId,\n              data: { current: activeData },\n            },\n          })\n        ) : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SACEC,UAAU,EACVC,aAAa,EACbC,SAAS,EACTC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,WAAW,QACN,eAAe;AAEtB,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,YAAY,QAAQ,eAAe;;AAE5C;AACA;AACA;AAFA,SAAAC,MAAA,IAAAC,OAAA;AAGA,SAASC,aAAaA,CAAC;EAAEC,CAAC;EAAEC,CAAC;EAAEC;AAAK,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,YAAA,EAAAC,oBAAA;EACrC,MAAM;IAAEC;EAAO,CAAC,GAAGd,aAAa,CAAC,CAAC;EAClC,MAAMe,WAAW,GAAG,CAAAD,MAAM,aAANA,MAAM,wBAAAF,YAAA,GAANE,MAAM,CAAEE,IAAI,cAAAJ,YAAA,wBAAAC,oBAAA,GAAZD,YAAA,CAAcK,OAAO,cAAAJ,oBAAA,uBAArBA,oBAAA,CAAuBK,IAAI,MAAK,OAAO;EAE3D,MAAM;IAAEC,UAAU;IAAEC;EAAO,CAAC,GAAGhB,YAAY,CAAC;IAC1CiB,EAAE,EAAE,QAAQb,CAAC,IAAIC,CAAC,EAAE;IACpBO,IAAI,EAAE;MAAEE,IAAI,EAAE,WAAW;MAAEI,GAAG,EAAEd,CAAC;MAAEe,GAAG,EAAEd;IAAE;EAC5C,CAAC,CAAC;EAEF,MAAMe,SAAS,GAAGT,WAAW,IAAIK,MAAM;EAEvC,oBACEd,OAAA;IACEmB,GAAG,EAAEN,UAAW;IAChBO,KAAK,EAAE;MACLC,UAAU,EAAEH,SAAS,GACjB,uBAAuB,GACvBd,IAAI,GACF,SAAS,GACT,SAAS;MACfkB,MAAM,EAAE,mBAAmB;MAC3BC,UAAU,EAAE;IACd;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEN;;AAEA;AACA;AACA;AAFAtB,EAAA,CA3BSJ,aAAa;EAAA,QACDP,aAAa,EAGDI,YAAY;AAAA;AAAA8B,EAAA,GAJpC3B,aAAa;AA8BtB,eAAe,SAAS4B,IAAIA,CAAC;EAC3BC,IAAI;EACJC,IAAI;EACJC,MAAM;EACNC,SAAS;EACTC,UAAU;EACVC,iBAAiB;EACjBC,mBAAmB;EACnBC,kBAAkB;EAClBC,aAAa;EACbC;AACF,CAAC,EAAE;EAAAC,GAAA;EACD,MAAMC,OAAO,GAAGxD,MAAM,CAAC,IAAI,CAAC;EAC5B,MAAM,CAACyD,QAAQ,EAAEC,WAAW,CAAC,GAAGzD,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC0D,UAAU,EAAEC,aAAa,CAAC,GAAG3D,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAAC4D,aAAa,EAAEC,gBAAgB,CAAC,GAAG7D,QAAQ,CAAC,KAAK,CAAC;;EAEzD;EACA,MAAM,CAAC8D,QAAQ,EAAEC,WAAW,CAAC,GAAG/D,QAAQ,CAAC,MAAMgE,KAAK,CAACnB,IAAI,CAAC,CAACoB,IAAI,CAAC,CAAC,CAAC,CAAC;EACnE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGnE,QAAQ,CAAC,MAAMgE,KAAK,CAACpB,IAAI,CAAC,CAACqB,IAAI,CAAC,CAAC,CAAC,CAAC;EAEnEhE,SAAS,CAAC,MAAM8D,WAAW,CAACC,KAAK,CAACnB,IAAI,CAAC,CAACoB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAACpB,IAAI,CAAC,CAAC;EACzD5C,SAAS,CAAC,MAAMkE,WAAW,CAACH,KAAK,CAACpB,IAAI,CAAC,CAACqB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAACrB,IAAI,CAAC,CAAC;EAEzD3C,SAAS,CAAC,MAAM;IACd,IAAIsD,OAAO,CAAC9B,OAAO,EAAE;MACnB8B,OAAO,CAAC9B,OAAO,CAAC2C,OAAO,CAACC,KAAK,GAAGC,IAAI,CAACC,SAAS,CAAC;QAC7CT,QAAQ;QACRI;MACF,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACJ,QAAQ,EAAEI,QAAQ,CAAC,CAAC;EAE1BjE,SAAS,CAAC,MAAM;IACd,MAAMuE,aAAa,GAAIC,CAAC,IAAKA,CAAC,CAACC,cAAc,CAAC,CAAC;IAE/CC,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEJ,aAAa,EAAE;MAAEK,OAAO,EAAE;IAAM,CAAC,CAAC;IACzE,OAAO,MACLF,QAAQ,CAACG,mBAAmB,CAAC,WAAW,EAAEN,aAAa,CAAC;EAC5D,CAAC,EAAE,EAAE,CAAC;EAEJ,MAAMO,WAAW,GAAGjB,QAAQ,CAACkB,GAAG,CAAEC,CAAC,IAAK,GAAGA,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAC3D,MAAMC,WAAW,GAAGjB,QAAQ,CAACc,GAAG,CAAEC,CAAC,IAAK,GAAGA,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAE3D,MAAME,OAAO,GAAG/E,UAAU,CACxBD,SAAS,CAACD,aAAa,EAAE;IACvBkF,oBAAoB,EAAE;MAAEC,QAAQ,EAAE;IAAE;EACtC,CAAC,CAAC,EACFlF,SAAS,CAACK,WAAW,EAAE;IACrB4E,oBAAoB,EAAE;MACpBE,KAAK,EAAE,EAAE;MACjBC,SAAS,EAAE;IACL;EACF,CAAC,CACH,CAAC;EAED,MAAMC,QAAQ,GAAI5D,EAAE,IAAKiB,MAAM,CAAC4C,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAAC9D,EAAE,KAAKA,EAAE,CAAC;;EAExD;AACF;AACA;EACE,MAAM+D,kBAAkB,GAAGA,CAACC,OAAO,EAAEC,OAAO,KAAK;IAC/C,MAAMC,IAAI,GAAGxC,OAAO,CAAC9B,OAAO,CAACuE,qBAAqB,CAAC,CAAC;IACpD,MAAMC,IAAI,GAAG,CAACJ,OAAO,GAAGE,IAAI,CAACG,IAAI,IAAIH,IAAI,CAACI,KAAK;IAC/C,MAAMC,IAAI,GAAG,CAACN,OAAO,GAAGC,IAAI,CAACM,GAAG,IAAIN,IAAI,CAACO,MAAM;IAE/C,IAAIvE,GAAG,GAAG,CAAC;IACX,IAAID,GAAG,GAAG,CAAC;IAEX,MAAMyE,SAAS,GAAGzC,QAAQ,CAAC0C,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IACrD,IAAIC,GAAG,GAAG,CAAC;IACX,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9C,QAAQ,CAAC+C,MAAM,EAAED,CAAC,EAAE,EAAE;MACxCD,GAAG,IAAI7C,QAAQ,CAAC8C,CAAC,CAAC;MAClB,IAAIX,IAAI,GAAGU,GAAG,GAAGJ,SAAS,EAAE;QAC1BxE,GAAG,GAAG6E,CAAC;QACP;MACF;IACF;IAEA,MAAME,SAAS,GAAG5C,QAAQ,CAACsC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IACrDC,GAAG,GAAG,CAAC;IACP,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1C,QAAQ,CAAC2C,MAAM,EAAED,CAAC,EAAE,EAAE;MACxCD,GAAG,IAAIzC,QAAQ,CAAC0C,CAAC,CAAC;MAClB,IAAIR,IAAI,GAAGO,GAAG,GAAGG,SAAS,EAAE;QAC1BhF,GAAG,GAAG8E,CAAC;QACP;MACF;IACF;IAEA,OAAO;MAAE9E,GAAG;MAAEC;IAAI,CAAC;EACrB,CAAC;;EAED;AACF;AACA;EACE,MAAMgF,eAAe,GAAIC,KAAK,IAAK;IACjCvD,WAAW,CAACuD,KAAK,CAAC1F,MAAM,CAACO,EAAE,CAAC;IAC5B8B,aAAa,CAACqD,KAAK,CAAC1F,MAAM,CAACE,IAAI,CAACC,OAAO,CAAC;IAExC,MAAMD,IAAI,GAAGwF,KAAK,CAAC1F,MAAM,CAACE,IAAI,CAACC,OAAO;IAEtC,IAAI,CAAAD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,IAAI,MAAK,OAAO,EAAE;MAC1BmC,gBAAgB,CAAC,IAAI,CAAC;IACxB;IACA,IAAI,CAAArC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyF,IAAI,MAAK,cAAc,IAAI,CAAAzF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyF,IAAI,MAAK,eAAe,EAAE;MACnE/D,mBAAmB,CAAC8D,KAAK,CAAC;MAC1B;IACF;EACF,CAAC;;EAED;AACF;AACA;EACE,MAAME,cAAc,GAAIF,KAAK,IAAK;IAChC,MAAMxF,IAAI,GAAGwF,KAAK,CAAC1F,MAAM,CAACE,IAAI,CAACC,OAAO;IACtC,IAAI,CAAAD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyF,IAAI,MAAK,cAAc,IAAI,CAAAzF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyF,IAAI,MAAK,eAAe,EAAE;MACnE9D,kBAAkB,CAAC6D,KAAK,CAAC;MACzB;IACF;EACF,CAAC;;EAED;AACF;AACA;EACE,MAAMG,aAAa,GAAIH,KAAK,IAAK;IAC/B,MAAM;MAAE1F,MAAM;MAAE8F;IAAK,CAAC,GAAGJ,KAAK;IAE9BvD,WAAW,CAAC,IAAI,CAAC;IACjBI,gBAAgB,CAAC,KAAK,CAAC;IAEvB,IAAI,CAACvC,MAAM,EAAE;IAEb,MAAME,IAAI,GAAGF,MAAM,CAACE,IAAI,CAACC,OAAO;IAEhC,IAAI,CAAAD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyF,IAAI,MAAK,cAAc,IAAI,CAAAzF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyF,IAAI,MAAK,eAAe,EAAE;MACnEhE,iBAAiB,CAAC+D,KAAK,CAAC;MACxB;IACF;IAEA,IAAI,CAAAxF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,IAAI,MAAK,OAAO,EAAE;IAE5B,IAAI0F,IAAI,IAAI,CAAA5F,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,IAAI,MAAK,OAAO,EAAE;MAClC,MAAM2F,OAAO,GAAG;QACdC,CAAC,EAAEN,KAAK,CAACO,cAAc,CAAC1B,OAAO,GAAGmB,KAAK,CAACQ,KAAK,CAACF,CAAC;QAC/CG,CAAC,EAAET,KAAK,CAACO,cAAc,CAACzB,OAAO,GAAGkB,KAAK,CAACQ,KAAK,CAACC;MAChD,CAAC;MAED,MAAM;QAAE1F,GAAG;QAAED;MAAI,CAAC,GAAG8D,kBAAkB,CAACyB,OAAO,CAACC,CAAC,EAAED,OAAO,CAACI,CAAC,CAAC;MAE7D1E,SAAS,CAAE2E,IAAI,IACbA,IAAI,CAAC1C,GAAG,CAAEW,CAAC,IACTA,CAAC,CAAC9D,EAAE,KAAKP,MAAM,CAACO,EAAE,GACd;QAAE,GAAG8D,CAAC;QAAE5D,GAAG;QAAED,GAAG;QAAEqE,KAAK,EAAE,CAAC;QAAEG,MAAM,EAAE;MAAE,CAAC,GACvCX,CACN,CACF,CAAC;IACH;EACF,CAAC;;EAED;AACF;AACA;;EAEE,MAAMgC,YAAY,GAAGA,CAAA;IAAA,IAAAC,gBAAA;IAAA,OACnB,EAAAA,gBAAA,GAAArE,OAAO,CAAC9B,OAAO,cAAAmG,gBAAA,uBAAfA,gBAAA,CAAiBC,WAAW,KAAI,CAAC;EAAA;EAEnC,MAAMC,aAAa,GAAGA,CAAA;IAAA,IAAAC,iBAAA;IAAA,OACpB,EAAAA,iBAAA,GAAAxE,OAAO,CAAC9B,OAAO,cAAAsG,iBAAA,uBAAfA,iBAAA,CAAiBC,YAAY,KAAI,CAAC;EAAA;EAEpC,MAAMC,YAAY,GAAGA,CAACrB,CAAC,EAAEsB,UAAU,KAAK;IACtC,MAAMC,SAAS,GAAGR,YAAY,CAAC,CAAC;IAChC5D,WAAW,CAAEM,KAAK,IAAK;MACrB,MAAM+D,IAAI,GAAGxB,CAAC,GAAG,CAAC;MAClB,IAAIwB,IAAI,IAAI/D,KAAK,CAACwC,MAAM,EAAE,OAAOxC,KAAK;MAEtC,MAAMgE,KAAK,GAAGhE,KAAK,CAACmC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;MAC9C,MAAM4B,OAAO,GAAIJ,UAAU,GAAGC,SAAS,GAAIE,KAAK;MAEhD,MAAME,IAAI,GAAG,CAAC,GAAGlE,KAAK,CAAC;MACvBkE,IAAI,CAAC3B,CAAC,CAAC,IAAI0B,OAAO;MAClBC,IAAI,CAACH,IAAI,CAAC,IAAIE,OAAO;MAErBC,IAAI,CAAC3B,CAAC,CAAC,GAAG4B,IAAI,CAACC,GAAG,CAAC,GAAG,EAAEF,IAAI,CAAC3B,CAAC,CAAC,CAAC;MAChC2B,IAAI,CAACH,IAAI,CAAC,GAAGI,IAAI,CAACC,GAAG,CAAC,GAAG,EAAEF,IAAI,CAACH,IAAI,CAAC,CAAC;MAEtC,OAAOG,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,SAAS,GAAGA,CAAC9B,CAAC,EAAEsB,UAAU,KAAK;IACnC,MAAMS,UAAU,GAAGb,aAAa,CAAC,CAAC;IAClC3D,WAAW,CAAEE,KAAK,IAAK;MACrB,MAAM+D,IAAI,GAAGxB,CAAC,GAAG,CAAC;MAClB,IAAIwB,IAAI,IAAI/D,KAAK,CAACwC,MAAM,EAAE,OAAOxC,KAAK;MAEtC,MAAMgE,KAAK,GAAGhE,KAAK,CAACmC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;MAC9C,MAAM4B,OAAO,GAAIJ,UAAU,GAAGS,UAAU,GAAIN,KAAK;MAEjD,MAAME,IAAI,GAAG,CAAC,GAAGlE,KAAK,CAAC;MACvBkE,IAAI,CAAC3B,CAAC,CAAC,IAAI0B,OAAO;MAClBC,IAAI,CAACH,IAAI,CAAC,IAAIE,OAAO;MAErBC,IAAI,CAAC3B,CAAC,CAAC,GAAG4B,IAAI,CAACC,GAAG,CAAC,GAAG,EAAEF,IAAI,CAAC3B,CAAC,CAAC,CAAC;MAChC2B,IAAI,CAACH,IAAI,CAAC,GAAGI,IAAI,CAACC,GAAG,CAAC,GAAG,EAAEF,IAAI,CAACH,IAAI,CAAC,CAAC;MAEtC,OAAOG,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED,MAAMK,UAAU,GAAInE,CAAC,IACnBA,CAAC,CAACoE,OAAO,GAAGpE,CAAC,CAACoE,OAAO,CAAC,CAAC,CAAC,CAAChD,OAAO,GAAGpB,CAAC,CAACoB,OAAO;EAC9C,MAAMiD,UAAU,GAAIrE,CAAC,IACnBA,CAAC,CAACoE,OAAO,GAAGpE,CAAC,CAACoE,OAAO,CAAC,CAAC,CAAC,CAAC/C,OAAO,GAAGrB,CAAC,CAACqB,OAAO;EAE9C,MAAMiD,cAAc,GAAInC,CAAC,IAAK;IAC5B,MAAMyB,KAAK,GAAGvE,QAAQ,CAAC0C,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IACjD,MAAMsC,MAAM,GAAGlF,QAAQ,CAACmF,KAAK,CAAC,CAAC,EAAErC,CAAC,GAAG,CAAC,CAAC,CAACJ,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IAClE,OAAQsC,MAAM,GAAGX,KAAK,GAAI,GAAG;EAC/B,CAAC;EAED,MAAMa,cAAc,GAAItC,CAAC,IAAK;IAC5B,MAAMyB,KAAK,GAAGnE,QAAQ,CAACsC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IACjD,MAAMsC,MAAM,GAAG9E,QAAQ,CAAC+E,KAAK,CAAC,CAAC,EAAErC,CAAC,GAAG,CAAC,CAAC,CAACJ,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;IAClE,OAAQsC,MAAM,GAAGX,KAAK,GAAI,GAAG;EAC/B,CAAC;EAED,MAAMc,cAAc,GAAGA,CAAC1E,CAAC,EAAEmC,CAAC,KAAK;IAC/BnC,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI0E,MAAM,GAAGR,UAAU,CAACnE,CAAC,CAAC;IAE1B,MAAM4E,IAAI,GAAIC,EAAE,IAAK;MACnBA,EAAE,CAAC5E,cAAc,CAAC,CAAC,CAAC,CAAqB;MACzC,MAAM6E,QAAQ,GAAGX,UAAU,CAACU,EAAE,CAAC;MAC/B,MAAM9B,KAAK,GAAG+B,QAAQ,GAAGH,MAAM;MAC/BA,MAAM,GAAGG,QAAQ;MACjBtB,YAAY,CAACrB,CAAC,EAAEY,KAAK,CAAC;IACxB,CAAC;IAED,MAAMgC,IAAI,GAAGA,CAAA,KAAM;MACjBC,MAAM,CAAC3E,mBAAmB,CAAC,WAAW,EAAEuE,IAAI,CAAC;MAC7CI,MAAM,CAAC3E,mBAAmB,CAAC,SAAS,EAAE0E,IAAI,CAAC;MAC3CC,MAAM,CAAC3E,mBAAmB,CAAC,WAAW,EAAEuE,IAAI,CAAC;MAC7CI,MAAM,CAAC3E,mBAAmB,CAAC,UAAU,EAAE0E,IAAI,CAAC;IAC9C,CAAC;IAEDC,MAAM,CAAC7E,gBAAgB,CAAC,WAAW,EAAEyE,IAAI,CAAC;IAC1CI,MAAM,CAAC7E,gBAAgB,CAAC,SAAS,EAAE4E,IAAI,CAAC;IACxCC,MAAM,CAAC7E,gBAAgB,CAAC,WAAW,EAAEyE,IAAI,CAAC;IAC1CI,MAAM,CAAC7E,gBAAgB,CAAC,UAAU,EAAE4E,IAAI,CAAC;EAC3C,CAAC;EAED,MAAME,cAAc,GAAGA,CAACjF,CAAC,EAAEmC,CAAC,KAAK;IAC/BnC,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIiF,MAAM,GAAGb,UAAU,CAACrE,CAAC,CAAC;IAE1B,MAAM4E,IAAI,GAAIC,EAAE,IAAK;MACnBA,EAAE,CAAC5E,cAAc,CAAC,CAAC,CAAC,CAAqB;MACzC,MAAMkF,QAAQ,GAAGd,UAAU,CAACQ,EAAE,CAAC;MAC/B,MAAM9B,KAAK,GAAGoC,QAAQ,GAAGD,MAAM;MAC/BA,MAAM,GAAGC,QAAQ;MACjBlB,SAAS,CAAC9B,CAAC,EAAEY,KAAK,CAAC;IACrB,CAAC;IAGD,MAAMgC,IAAI,GAAGA,CAAA,KAAM;MACjBC,MAAM,CAAC3E,mBAAmB,CAAC,WAAW,EAAEuE,IAAI,CAAC;MAC7CI,MAAM,CAAC3E,mBAAmB,CAAC,SAAS,EAAE0E,IAAI,CAAC;MAC3CC,MAAM,CAAC3E,mBAAmB,CAAC,WAAW,EAAEuE,IAAI,CAAC;MAC7CI,MAAM,CAAC3E,mBAAmB,CAAC,UAAU,EAAE0E,IAAI,CAAC;IAC9C,CAAC;IAEDC,MAAM,CAAC7E,gBAAgB,CAAC,WAAW,EAAEyE,IAAI,CAAC;IAC1CI,MAAM,CAAC7E,gBAAgB,CAAC,SAAS,EAAE4E,IAAI,CAAC;IACxCC,MAAM,CAAC7E,gBAAgB,CAAC,WAAW,EAAEyE,IAAI,CAAC;IAC1CI,MAAM,CAAC7E,gBAAgB,CAAC,UAAU,EAAE4E,IAAI,CAAC;EAC3C,CAAC;;EAED;AACF;AACA;EACE,oBACE1I,OAAA,CAACZ,UAAU;IACTkF,OAAO,EAAEA,OAAQ;IACjByE,kBAAkB,EAAEtJ,aAAc;IAClCuJ,WAAW,EAAE/C,eAAgB;IAC7BgD,UAAU,EAAE7C,cAAe;IAC3B8C,SAAS,EAAE7C,aAAc;IACzB8C,UAAU,EAAE9G,kBAAmB;IACnC+G,UAAU,EAAE;MACVC,OAAO,EAAE,IAAI;MACbC,YAAY,EAAE,IAAI;MAClBC,SAAS,EAAE;QAAE/C,CAAC,EAAE,IAAI;QAAEG,CAAC,EAAE;MAAK;IAChC,CAAE;IAAA6C,QAAA,GACH,GAEK,eAAAxJ,OAAA;MAAKoB,KAAK,EAAE;QAAEqI,QAAQ,EAAE,UAAU;QAAEC,KAAK,EAAE,CAAC;QAAErI,UAAU,EAAE,SAAS;QAAEsI,QAAQ,EAAE;MAAS,CAAE;MAAAH,QAAA,gBACxFxJ,OAAA;QACE4J,OAAO,EAAEtH,aAAc;QACvBlB,KAAK,EAAE;UACLqI,QAAQ,EAAE,UAAU;UACpBlE,GAAG,EAAE,EAAE;UACPsE,KAAK,EAAE,EAAE;UACTxE,KAAK,EAAE,EAAE;UACTG,MAAM,EAAE,EAAE;UACVnE,UAAU,EAAE,SAAS;UACrBC,MAAM,EAAE,gBAAgB;UACxBwI,YAAY,EAAE,CAAC;UACfC,OAAO,EAAE,MAAM;UACfC,UAAU,EAAE,QAAQ;UACpBC,cAAc,EAAE,QAAQ;UACxBC,KAAK,EAAE,OAAO;UACdC,MAAM,EAAE,SAAS;UACjBC,MAAM,EAAE;QACV,CAAE;QAAAZ,QAAA,EACH;MAED;QAAAhI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAEN3B,OAAA;QACEmB,GAAG,EAAEsB,OAAQ;QACbrB,KAAK,EAAE;UACLqI,QAAQ,EAAE,UAAU;UACpBC,KAAK,EAAE,CAAC;UACRK,OAAO,EAAE,MAAM;UACfM,mBAAmB,EAAEpG,WAAW;UAChCqG,gBAAgB,EAAEjG,WAAW;UAC7BgB,KAAK,EAAE,MAAM;UACbG,MAAM,EAAE,MAAM;UACdmE,QAAQ,EAAE,QAAQ;UAClBY,WAAW,EAAE,MAAM;UACnBC,mBAAmB,EAAE;QACvB,CAAE;QAAAhB,QAAA,GAED,CAAC,GAAGtG,KAAK,CAACpB,IAAI,CAAC,CAAC,CAACoC,GAAG,CAAC,CAACuG,CAAC,EAAEvK,CAAC,KACzB,CAAC,GAAGgD,KAAK,CAACnB,IAAI,CAAC,CAAC,CAACmC,GAAG,CAAC,CAACuG,CAAC,EAAEtK,CAAC,KAAK;UAC7B,MAAMC,IAAI,GAAG,CAACF,CAAC,GAAGC,CAAC,IAAI,CAAC,KAAK,CAAC;UAC9B,oBAAOH,OAAA,CAACC,aAAa;YAAmBC,CAAC,EAAEA,CAAE;YAACC,CAAC,EAAEA,CAAE;YAACC,IAAI,EAAEA;UAAK,GAApC,GAAGF,CAAC,IAAIC,CAAC,EAAE;YAAAqB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA2B,CAAC;QACpE,CAAC,CACH,CAAC,EAGA,CAAC,GAAGuB,KAAK,CAACnB,IAAI,GAAG,CAAC,CAAC,CAAC,CAACmC,GAAG,CAAC,CAACuG,CAAC,EAAE3E,CAAC,kBAC7B9F,OAAA;UAEE0K,WAAW,EAAG/G,CAAC,IAAK0E,cAAc,CAAC1E,CAAC,EAAEmC,CAAC,CAAE;UACzC6E,YAAY,EAAGhH,CAAC,IAAK0E,cAAc,CAAC1E,CAAC,EAAEmC,CAAC,CAAE;UAC1C1E,KAAK,EAAE;YACLqI,QAAQ,EAAE,UAAU;YACpBlE,GAAG,EAAE,CAAC;YACNqF,MAAM,EAAE,CAAC;YACTxF,IAAI,EAAE,GAAG6C,cAAc,CAACnC,CAAC,CAAC,GAAG;YAC7BT,KAAK,EAAE,CAAC;YACRwF,UAAU,EAAE,CAAC,CAAC;YACdV,MAAM,EAAE,YAAY;YACpBC,MAAM,EAAE,EAAE;YACV/I,UAAU,EAAE;UACd;QAAE,GAbG,cAAcyE,CAAC,EAAE;UAAAtE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcvB,CACF,CAAC,EAGD,CAAC,GAAGuB,KAAK,CAACpB,IAAI,GAAG,CAAC,CAAC,CAAC,CAACoC,GAAG,CAAC,CAACuG,CAAC,EAAE3E,CAAC,kBAC7B9F,OAAA;UAEE0K,WAAW,EAAG/G,CAAC,IAAKiF,cAAc,CAACjF,CAAC,EAAEmC,CAAC,CAAE;UACzC6E,YAAY,EAAGhH,CAAC,IAAKiF,cAAc,CAACjF,CAAC,EAAEmC,CAAC,CAAE;UAC1C1E,KAAK,EAAE;YACLqI,QAAQ,EAAE,UAAU;YACpBrE,IAAI,EAAE,CAAC;YACPyE,KAAK,EAAE,CAAC;YACRtE,GAAG,EAAE,GAAG6C,cAAc,CAACtC,CAAC,CAAC,GAAG;YAC5BN,MAAM,EAAE,CAAC;YACTsF,SAAS,EAAE,CAAC,CAAC;YACbX,MAAM,EAAE,YAAY;YACpBC,MAAM,EAAE,EAAE;YACV/I,UAAU,EAAE;UACd;QAAE,GAbG,cAAcyE,CAAC,EAAE;UAAAtE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcvB,CACF,CAAC,EAEDK,MAAM,CAACkC,GAAG,CAAEW,CAAC,iBACZ7E,OAAA,CAACJ,KAAK;UAEJmL,KAAK,EAAElG,CAAE;UACT5C,SAAS,EAAEA,SAAU;UACrBQ,OAAO,EAAEA,OAAQ;UACjBV,IAAI,EAAEA,IAAK;UACXD,IAAI,EAAEA,IAAK;UACXY,QAAQ,EAAEA,QAAS;UACnBR,UAAU,EAAEA,UAAW;UACvB8I,UAAU,EAAElI;QAAc,GARrB+B,CAAC,CAAC9D,EAAE;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OASV,CACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN3B,OAAA,CAACR,WAAW;MAAC4K,MAAM,EAAE,MAAO;MAAAZ,QAAA,GACzB9G,QAAQ,IAAIiC,QAAQ,CAACjC,QAAQ,CAAC,gBAC7B1C,OAAA,CAACH,UAAU;QAACkL,KAAK,EAAEpG,QAAQ,CAACjC,QAAQ;MAAE;QAAAlB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GACvC,IAAI,EAEP,CAACgD,QAAQ,CAACjC,QAAQ,CAAC,IAAIE,UAAU,GAChCL,iBAAiB,CAAC;QAChB/B,MAAM,EAAE;UACNO,EAAE,EAAE2B,QAAQ;UACZhC,IAAI,EAAE;YAAEC,OAAO,EAAEiC;UAAW;QAC9B;MACF,CAAC,CAAC,GACA,IAAI;IAAA;MAAApB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEjB;AAACa,GAAA,CA5ZuBX,IAAI;EAAA,QA4CVtC,UAAU,EACxBD,SAAS,EAGTA,SAAS;AAAA;AAAA2L,GAAA,GAhDWpJ,IAAI;AAAA,IAAAD,EAAA,EAAAqJ,GAAA;AAAAC,YAAA,CAAAtJ,EAAA;AAAAsJ,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}