{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/dndkittest/src/TaskBox.js\",\n  _s = $RefreshSig$();\n// TaskBox.jsx — now includes “Add Task” button\n\nimport React, { useContext } from \"react\";\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { ScheduleContext } from \"./ScheduleContext\";\nimport SortableItem from \"./SortableItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TaskBox({\n  panelId,\n  containerId\n}) {\n  _s();\n  const {\n    containerState,\n    setContainerState,\n    instanceStoreRef\n  } = useContext(ScheduleContext);\n  const instanceIds = containerState[containerId] || [];\n\n  // ----------------------------------------------------\n  // ADD NEW TASK TO THIS TASKBOX\n  // ----------------------------------------------------\n  const handleAddTask = () => {\n    const taskId = crypto.randomUUID();\n    const instId = crypto.randomUUID();\n\n    // 1️⃣ store instance info\n    instanceStoreRef.current[instId] = {\n      taskId,\n      instanceId: instId,\n      label: `New Task`\n    };\n\n    // 2️⃣ append to this TaskBox container\n    setContainerState(prev => ({\n      ...prev,\n      [containerId]: [...(prev[containerId] || []), instId]\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"taskbox\",\n    \"data-role\": \"taskbox\",\n    \"data-containerid\": containerId,\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      overflowY: \"auto\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(SortableContext, {\n      id: containerId,\n      items: instanceIds,\n      strategy: verticalListSortingStrategy,\n      data: {\n        role: \"task-container\",\n        containerId\n      },\n      children: instanceIds.map(instId => {\n        const inst = instanceStoreRef.current[instId];\n        if (!inst) return null;\n        return /*#__PURE__*/_jsxDEV(SortableItem, {\n          instanceId: instId,\n          containerId: containerId\n        }, instId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddTask,\n      style: {\n        marginTop: \"auto\",\n        padding: \"6px 10px\",\n        background: \"#3A3F45\",\n        color: \"white\",\n        border: \"1px solid #555\",\n        borderRadius: 6,\n        cursor: \"pointer\"\n      },\n      children: \"+ Add Task\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(TaskBox, \"yqZ9ls1KTtvwEoMVIWtGByeXOkk=\");\n_c = TaskBox;\nvar _c;\n$RefreshReg$(_c, \"TaskBox\");","map":{"version":3,"names":["React","useContext","SortableContext","verticalListSortingStrategy","ScheduleContext","SortableItem","jsxDEV","_jsxDEV","TaskBox","panelId","containerId","_s","containerState","setContainerState","instanceStoreRef","instanceIds","handleAddTask","taskId","crypto","randomUUID","instId","current","instanceId","label","prev","className","style","width","height","overflowY","display","flexDirection","children","id","items","strategy","data","role","map","inst","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginTop","padding","background","color","border","borderRadius","cursor","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/dndkittest/src/TaskBox.js"],"sourcesContent":["// TaskBox.jsx — now includes “Add Task” button\n\nimport React, { useContext } from \"react\";\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { ScheduleContext } from \"./ScheduleContext\";\nimport SortableItem from \"./SortableItem\";\n\nexport default function TaskBox({ panelId, containerId }) {\n  const { containerState, setContainerState, instanceStoreRef } =\n    useContext(ScheduleContext);\n\n  const instanceIds = containerState[containerId] || [];\n\n  // ----------------------------------------------------\n  // ADD NEW TASK TO THIS TASKBOX\n  // ----------------------------------------------------\n  const handleAddTask = () => {\n    const taskId = crypto.randomUUID();\n    const instId = crypto.randomUUID();\n\n    // 1️⃣ store instance info\n    instanceStoreRef.current[instId] = {\n      taskId,\n      instanceId: instId,\n      label: `New Task`\n    };\n\n    // 2️⃣ append to this TaskBox container\n    setContainerState(prev => ({\n      ...prev,\n      [containerId]: [...(prev[containerId] || []), instId]\n    }));\n  };\n\n  return (\n    <div\n      className=\"taskbox\"\n      data-role=\"taskbox\"\n      data-containerid={containerId}\n      style={{\n        width: \"100%\",\n        height: \"100%\",\n        overflowY: \"auto\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      }}\n    >\n      {/* SORTABLE ITEMS */}\n      <SortableContext\n        id={containerId}\n        items={instanceIds}\n        strategy={verticalListSortingStrategy}\n        data={{\n          role: \"task-container\",\n          containerId\n        }}\n      >\n        {instanceIds.map(instId => {\n          const inst = instanceStoreRef.current[instId];\n          if (!inst) return null;\n\n          return (\n            <SortableItem\n              key={instId}\n              instanceId={instId}\n              containerId={containerId}\n            />\n          );\n        })}\n      </SortableContext>\n\n      {/* ADD TASK BUTTON */}\n      <button\n        onClick={handleAddTask}\n        style={{\n          marginTop: \"auto\",\n          padding: \"6px 10px\",\n          background: \"#3A3F45\",\n          color: \"white\",\n          border: \"1px solid #555\",\n          borderRadius: 6,\n          cursor: \"pointer\"\n        }}\n      >\n        + Add Task\n      </button>\n    </div>\n  );\n}\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,eAAe,EAAEC,2BAA2B,QAAQ,mBAAmB;AAChF,SAASC,eAAe,QAAQ,mBAAmB;AACnD,OAAOC,YAAY,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,eAAe,SAASC,OAAOA,CAAC;EAAEC,OAAO;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACxD,MAAM;IAAEC,cAAc;IAAEC,iBAAiB;IAAEC;EAAiB,CAAC,GAC3Db,UAAU,CAACG,eAAe,CAAC;EAE7B,MAAMW,WAAW,GAAGH,cAAc,CAACF,WAAW,CAAC,IAAI,EAAE;;EAErD;EACA;EACA;EACA,MAAMM,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMC,MAAM,GAAGC,MAAM,CAACC,UAAU,CAAC,CAAC;IAClC,MAAMC,MAAM,GAAGF,MAAM,CAACC,UAAU,CAAC,CAAC;;IAElC;IACAL,gBAAgB,CAACO,OAAO,CAACD,MAAM,CAAC,GAAG;MACjCH,MAAM;MACNK,UAAU,EAAEF,MAAM;MAClBG,KAAK,EAAE;IACT,CAAC;;IAED;IACAV,iBAAiB,CAACW,IAAI,KAAK;MACzB,GAAGA,IAAI;MACP,CAACd,WAAW,GAAG,CAAC,IAAIc,IAAI,CAACd,WAAW,CAAC,IAAI,EAAE,CAAC,EAAEU,MAAM;IACtD,CAAC,CAAC,CAAC;EACL,CAAC;EAED,oBACEb,OAAA;IACEkB,SAAS,EAAC,SAAS;IACnB,aAAU,SAAS;IACnB,oBAAkBf,WAAY;IAC9BgB,KAAK,EAAE;MACLC,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE,MAAM;MACdC,SAAS,EAAE,MAAM;MACjBC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE;IACjB,CAAE;IAAAC,QAAA,gBAGFzB,OAAA,CAACL,eAAe;MACd+B,EAAE,EAAEvB,WAAY;MAChBwB,KAAK,EAAEnB,WAAY;MACnBoB,QAAQ,EAAEhC,2BAA4B;MACtCiC,IAAI,EAAE;QACJC,IAAI,EAAE,gBAAgB;QACtB3B;MACF,CAAE;MAAAsB,QAAA,EAEDjB,WAAW,CAACuB,GAAG,CAAClB,MAAM,IAAI;QACzB,MAAMmB,IAAI,GAAGzB,gBAAgB,CAACO,OAAO,CAACD,MAAM,CAAC;QAC7C,IAAI,CAACmB,IAAI,EAAE,OAAO,IAAI;QAEtB,oBACEhC,OAAA,CAACF,YAAY;UAEXiB,UAAU,EAAEF,MAAO;UACnBV,WAAW,EAAEA;QAAY,GAFpBU,MAAM;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAGZ,CAAC;MAEN,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACa,CAAC,eAGlBpC,OAAA;MACEqC,OAAO,EAAE5B,aAAc;MACvBU,KAAK,EAAE;QACLmB,SAAS,EAAE,MAAM;QACjBC,OAAO,EAAE,UAAU;QACnBC,UAAU,EAAE,SAAS;QACrBC,KAAK,EAAE,OAAO;QACdC,MAAM,EAAE,gBAAgB;QACxBC,YAAY,EAAE,CAAC;QACfC,MAAM,EAAE;MACV,CAAE;MAAAnB,QAAA,EACH;IAED;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAChC,EAAA,CAjFuBH,OAAO;AAAA4C,EAAA,GAAP5C,OAAO;AAAA,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}