{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/dndkittest/src/SortableItem.jsx\",\n  _s = $RefreshSig$();\n// SortableItem.jsx — FINAL MERGED VERSION\nimport React, { useContext, useState } from \"react\";\nimport { useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { ScheduleContext } from \"./ScheduleContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SortableItem({\n  instanceId,\n  containerId\n}) {\n  _s();\n  var _inst$label;\n  const {\n    instanceStoreRef\n  } = useContext(ScheduleContext);\n  const inst = instanceStoreRef.current[instanceId] || {};\n  const label = (_inst$label = inst.label) !== null && _inst$label !== void 0 ? _inst$label : \"Untitled\";\n  const {\n    setNodeRef,\n    attributes,\n    listeners,\n    transform,\n    transition,\n    isDragging\n  } = useSortable({\n    id: instanceId,\n    data: {\n      type: \"task\",\n      instanceId,\n      containerId\n    }\n  });\n  const [isOpen, setIsOpen] = useState(false);\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n    background: \"#2F343A\",\n    border: \"1px solid #444\",\n    borderRadius: 6,\n    padding: \"2px 10px\",\n    marginBottom: 6,\n    color: \"white\",\n    cursor: \"grab\",\n    userSelect: \"none\",\n    fontSize: 14\n  };\n  const isDragDisabled = eventTarget => {\n    return eventTarget.closest(\"[data-dndkit-disable-drag]\");\n  };\n  const handleClick = () => {\n    setIsOpen(!isOpen);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: setNodeRef,\n    ...attributes,\n    ...listeners,\n    style: {\n      transform: CSS.Transform.toString(transform),\n      transition,\n      ...style,\n      touchAction: \"none\",\n      display: \"flex\",\n      height: isOpen ? \"100px\" : \"30px\",\n      justifyContent: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      \"data-dndkit-disable-drag\": true,\n      onClick: handleClick,\n      onMouseDown: e => e.stopPropagation(),\n      onTouchStart: e => e.stopPropagation(),\n      onPointerDown: e => e.stopPropagation(),\n      onKeyDown: e => e.stopPropagation(),\n      style: {\n        marginLeft: -10,\n        height: \"33px\",\n        width: \"30px\",\n        marginTop: -2,\n        marginDown: -10,\n        marginRight: 5\n      },\n      children: \"o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), label]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }, this);\n}\n_s(SortableItem, \"9tuC8FHDdWjJ4CSAi8eaYiyrRFM=\", false, function () {\n  return [useSortable];\n});\n_c = SortableItem;\nvar _c;\n$RefreshReg$(_c, \"SortableItem\");","map":{"version":3,"names":["React","useContext","useState","useSortable","CSS","ScheduleContext","jsxDEV","_jsxDEV","SortableItem","instanceId","containerId","_s","_inst$label","instanceStoreRef","inst","current","label","setNodeRef","attributes","listeners","transform","transition","isDragging","id","data","type","isOpen","setIsOpen","style","Transform","toString","opacity","background","border","borderRadius","padding","marginBottom","color","cursor","userSelect","fontSize","isDragDisabled","eventTarget","closest","handleClick","ref","touchAction","display","height","justifyContent","children","onClick","onMouseDown","e","stopPropagation","onTouchStart","onPointerDown","onKeyDown","marginLeft","width","marginTop","marginDown","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/dndkittest/src/SortableItem.jsx"],"sourcesContent":["// SortableItem.jsx — FINAL MERGED VERSION\nimport React, { useContext, useState } from \"react\";\nimport { useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { ScheduleContext } from \"./ScheduleContext\";\n\nexport default function SortableItem({ instanceId, containerId }) {\n    const { instanceStoreRef } = useContext(ScheduleContext);\n\n    const inst = instanceStoreRef.current[instanceId] || {};\n    const label = inst.label ?? \"Untitled\";\n\n    const {\n        setNodeRef,\n        attributes,\n        listeners,\n        transform,\n        transition,\n        isDragging\n    } = useSortable({\n        id: instanceId,\n        data: {\n            type: \"task\",\n            instanceId,\n            containerId\n        }\n    });\n    const [isOpen, setIsOpen] = useState(false);\n    const style = {\n        transform: CSS.Transform.toString(transform),\n        transition,\n        opacity: isDragging ? 0.5 : 1,\n        background: \"#2F343A\",\n        border: \"1px solid #444\",\n        borderRadius: 6,\n        padding: \"2px 10px\",\n        marginBottom: 6,\n        color: \"white\",\n        cursor: \"grab\",\n        userSelect: \"none\",\n        fontSize: 14\n    };\nconst isDragDisabled = (eventTarget) => {\n  return eventTarget.closest(\"[data-dndkit-disable-drag]\");\n};\nconst handleClick = () => {\n  setIsOpen(!isOpen)\n};\n    return (\n  <div\n    ref={setNodeRef}\n    {...attributes}\n    {...listeners}\n    style={{\n      transform: CSS.Transform.toString(transform),\n      transition,\n      ...style,\n      touchAction: \"none\",\n      display: \"flex\",\n      height: isOpen ? \"100px\" : \"30px\",\n      justifyContent: \"center\"\n    }}\n  >\n    <button\n      data-dndkit-disable-drag\n      onClick={handleClick}\n      onMouseDown={(e) => e.stopPropagation()}\n      onTouchStart={(e) => e.stopPropagation()}\n      onPointerDown={(e) => e.stopPropagation()}\n      onKeyDown={(e) => e.stopPropagation()}\n      style={{ marginLeft: -10, height: \"33px\", width: \"30px\", marginTop:-2, marginDown: -10, marginRight: 5 }}\n    >\n      o\n    </button>\n\n    {label}\n  </div>\n);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}