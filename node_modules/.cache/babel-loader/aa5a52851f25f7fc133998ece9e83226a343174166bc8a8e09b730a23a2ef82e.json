{"ast":null,"code":"import React, { createContext, useContext, useEffect, useRef } from 'react';\nimport { LayerNode } from '../classes/layer-node';\n\n/**\n *\n *  @internal\n * LevelContext which maintains the current level of nested layers\n * Default is 0\n */\nexport var LevelContext = /*#__PURE__*/createContext(0);\n\n/**\n *\n *  @internal\n * LevelNodeContext maintains the current layer node of nested layers.\n * Default ref value is null\n */\nexport var LevelNodeContext = /*#__PURE__*/createContext({\n  current: null\n});\n\n/**\n *\n *  @internal\n * RootNodeContext maintains the root node of the layer tree.\n * Default ref value is null\n */\nexport var RootNodeContext = /*#__PURE__*/createContext({\n  current: null\n});\n\n/**\n *\n *  @internal\n * Context Provider Component which provider the current level of nested layers\n * It handles level management when it mounts and unmounts\n *\n */\nvar LevelProvider = function LevelProvider(_ref) {\n  var children = _ref.children,\n    currentLevel = _ref.currentLevel,\n    levelNode = _ref.node;\n  useEffect(function () {\n    var levelNodeSafe = levelNode.current;\n    var parentNode = levelNodeSafe.parent;\n    parentNode === null || parentNode === void 0 || parentNode.addChild(levelNodeSafe);\n    return function () {\n      parentNode === null || parentNode === void 0 || parentNode.removeChild(levelNodeSafe);\n    };\n  }, [levelNode]);\n  return /*#__PURE__*/React.createElement(LevelContext.Provider, {\n    value: currentLevel\n  }, /*#__PURE__*/React.createElement(LevelNodeContext.Provider, {\n    value: levelNode\n  }, children));\n};\n\n/**\n *\n * @important the component is toggled by isDisabled props, the default isDisabled is true\n *\n * Layering component is a wrapper to let children to consume layer contexts and hooks.\n * For more information on the implementation: https://hello.atlassian.net/wikix/x/FQCDQwE\n *\n */\nexport var Layering = function Layering(_ref2) {\n  var children = _ref2.children,\n    _ref2$isDisabled = _ref2.isDisabled,\n    isDisabled = _ref2$isDisabled === void 0 ? true : _ref2$isDisabled;\n  var currentLevel = useContext(LevelContext);\n  var parentNode = useContext(LevelNodeContext);\n\n  // eslint-disable-next-line  @repo/internal/react/disallow-unstable-values\n  var newNode = useRef(new LayerNode(Math.random().toString(36), parentNode.current));\n  if (isDisabled) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n  var isNested = currentLevel > 0;\n  var content = /*#__PURE__*/React.createElement(LevelProvider, {\n    currentLevel: currentLevel + 1,\n    node: newNode\n  }, children);\n  return isNested ? content : /*#__PURE__*/React.createElement(RootNodeContext.Provider, {\n    value: newNode\n  }, content);\n};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useRef","LayerNode","LevelContext","LevelNodeContext","current","RootNodeContext","LevelProvider","_ref","children","currentLevel","levelNode","node","levelNodeSafe","parentNode","parent","addChild","removeChild","createElement","Provider","value","Layering","_ref2","_ref2$isDisabled","isDisabled","newNode","Math","random","toString","Fragment","isNested","content"],"sources":["/data/data/com.termux/files/home/dndkittest/node_modules/@atlaskit/layering/dist/esm/components/layering-context.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useRef } from 'react';\nimport { LayerNode } from '../classes/layer-node';\n\n/**\n *\n *  @internal\n * LevelContext which maintains the current level of nested layers\n * Default is 0\n */\nexport var LevelContext = /*#__PURE__*/createContext(0);\n\n/**\n *\n *  @internal\n * LevelNodeContext maintains the current layer node of nested layers.\n * Default ref value is null\n */\nexport var LevelNodeContext = /*#__PURE__*/createContext({\n  current: null\n});\n\n/**\n *\n *  @internal\n * RootNodeContext maintains the root node of the layer tree.\n * Default ref value is null\n */\nexport var RootNodeContext = /*#__PURE__*/createContext({\n  current: null\n});\n\n/**\n *\n *  @internal\n * Context Provider Component which provider the current level of nested layers\n * It handles level management when it mounts and unmounts\n *\n */\nvar LevelProvider = function LevelProvider(_ref) {\n  var children = _ref.children,\n    currentLevel = _ref.currentLevel,\n    levelNode = _ref.node;\n  useEffect(function () {\n    var levelNodeSafe = levelNode.current;\n    var parentNode = levelNodeSafe.parent;\n    parentNode === null || parentNode === void 0 || parentNode.addChild(levelNodeSafe);\n    return function () {\n      parentNode === null || parentNode === void 0 || parentNode.removeChild(levelNodeSafe);\n    };\n  }, [levelNode]);\n  return /*#__PURE__*/React.createElement(LevelContext.Provider, {\n    value: currentLevel\n  }, /*#__PURE__*/React.createElement(LevelNodeContext.Provider, {\n    value: levelNode\n  }, children));\n};\n\n/**\n *\n * @important the component is toggled by isDisabled props, the default isDisabled is true\n *\n * Layering component is a wrapper to let children to consume layer contexts and hooks.\n * For more information on the implementation: https://hello.atlassian.net/wikix/x/FQCDQwE\n *\n */\nexport var Layering = function Layering(_ref2) {\n  var children = _ref2.children,\n    _ref2$isDisabled = _ref2.isDisabled,\n    isDisabled = _ref2$isDisabled === void 0 ? true : _ref2$isDisabled;\n  var currentLevel = useContext(LevelContext);\n  var parentNode = useContext(LevelNodeContext);\n\n  // eslint-disable-next-line  @repo/internal/react/disallow-unstable-values\n  var newNode = useRef(new LayerNode(Math.random().toString(36), parentNode.current));\n  if (isDisabled) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n  var isNested = currentLevel > 0;\n  var content = /*#__PURE__*/React.createElement(LevelProvider, {\n    currentLevel: currentLevel + 1,\n    node: newNode\n  }, children);\n  return isNested ? content : /*#__PURE__*/React.createElement(RootNodeContext.Provider, {\n    value: newNode\n  }, content);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}